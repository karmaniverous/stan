<!DOCTYPE html><html class="default" lang="en" data-base="./"><head><meta charset="utf-8"/><link rel="canonical" href="https://docs.karmanivero.us/stan/"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>@karmaniverous/stan</title><meta name="description" content="Documentation for @karmaniverous/stan"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script defer src="assets/main.js"></script><script async src="assets/icons.js" id="tsd-icons-script"></script><script async src="assets/search.js" id="tsd-search-script"></script><script async src="assets/navigation.js" id="tsd-nav-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => window.app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><a href="index.html" class="title">@karmaniverous/stan</a><div id="tsd-toolbar-links"><a href="https://github.com/karmaniverous/stan">GitHub</a></div><button id="tsd-search-trigger" class="tsd-widget" aria-label="Search"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-search"></use></svg></button><dialog id="tsd-search" aria-label="Search"><input role="combobox" id="tsd-search-input" aria-controls="tsd-search-results" aria-autocomplete="list" aria-expanded="true" autocapitalize="off" autocomplete="off" placeholder="Search the docs" maxLength="100"/><ul role="listbox" id="tsd-search-results"></ul><div id="tsd-search-status" aria-live="polite" aria-atomic="true"><div>Preparing search index...</div></div></dialog><a href="#" class="tsd-widget menu" id="tsd-toolbar-menu-trigger" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-menu"></use></svg></a></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><h1>@karmaniverous/stan</h1></div><div class="tsd-panel tsd-typography"><blockquote>
<p>STAN is a CLI that packages your code and its build/test outputs into an archive for use with ChatGPT (or other LLMs), and then helps apply the AI’s suggested code patches.</p>
</blockquote>
<h1 id="stan--stan-tames-autoregressive-nonsense" class="tsd-anchor-link">STAN — STAN Tames Autoregressive Nonsense<a href="#stan--stan-tames-autoregressive-nonsense" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><p><a href="https://www.npmjs.com/package/@karmaniverous/stan" target="_blank" class="external"><img src="https://img.shields.io/npm/v/@karmaniverous/stan.svg" alt="npm version"></a>
<img src="https://img.shields.io/node/v/@karmaniverous/stan" alt="Node Current">
<a href="https://github.com/karmaniverous/stan/tree/main/LICENSE.md" target="_blank" class="external"><img src="https://img.shields.io/badge/license-BSD--3--Clause-blue.svg" alt="license"></a></p>
<p><img src="https://github.com/karmaniverous/stan/raw/main/assets/stan-loop.png" alt="STAN Loop"></p>
<p>STAN produces a single source of truth for AI‑assisted development: a tarball of your repo plus deterministic text outputs from your build/test/lint/typecheck scripts.</p>
<p>You get portable, auditable, reproducible context—locally and in CI.</p>
<p>Because a freaking chatbot shouldn’t gaslight your code.</p>
<hr>
<h2 id="quick-start" class="tsd-anchor-link">Quick start<a href="#quick-start" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><ol>
<li>Install</li>
</ol>
<pre><code><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-0">i</span><span class="hl-1"> -</span><span class="hl-0">g</span><span class="hl-1"> @</span><span class="hl-0">karmaniverous</span><span class="hl-1">/</span><span class="hl-0">stan</span><br/><span class="hl-1"># </span><span class="hl-0">or</span><br/><span class="hl-0">pnpm</span><span class="hl-1"> </span><span class="hl-0">add</span><span class="hl-1"> -</span><span class="hl-0">g</span><span class="hl-1"> @</span><span class="hl-0">karmaniverous</span><span class="hl-1">/</span><span class="hl-0">stan</span><br/><span class="hl-1"># </span><span class="hl-0">or</span><br/><span class="hl-0">yarn</span><span class="hl-1"> </span><span class="hl-0">global</span><span class="hl-1"> </span><span class="hl-0">add</span><span class="hl-1"> @</span><span class="hl-0">karmaniverous</span><span class="hl-1">/</span><span class="hl-0">stan</span>
</code><button>Copy</button></pre>

<ol start="2">
<li>Initialize in your repo</li>
</ol>
<pre><code><span class="hl-0">stan</span><span class="hl-1"> </span><span class="hl-0">init</span>
</code><button>Copy</button></pre>

<ul>
<li>Creates stan.config.yml and scaffolds STAN docs under <stanPath> (default .stan).</li>
<li>Adds sensible .gitignore entries for <stanPath> subfolders.</li>
</ul>
<ol start="3">
<li>Run the loop</li>
</ol>
<ul>
<li>Build &amp; Snapshot</li>
</ul>
<pre><code><span class="hl-0">stan</span><span class="hl-1"> </span><span class="hl-0">run</span>
</code><button>Copy</button></pre>

<ul>
<li>Share &amp; Baseline</li>
</ul>
<p>Attach .stan/output/archive.tar (and archive.diff.tar if present) to your chat.</p>
<p>Optionally run:</p>
<pre><code><span class="hl-0">stan</span><span class="hl-1"> </span><span class="hl-0">snap</span>
</code><button>Copy</button></pre>

<ul>
<li>Discuss &amp; Patch</li>
</ul>
<p>Iterate in chat. Apply suggested patches:</p>
<pre><code><span class="hl-0">stan</span><span class="hl-1"> </span><span class="hl-0">patch</span>
</code><button>Copy</button></pre>

<p>Use --check to validate without changing files, or -f <file> to read from a patch file.</p>
<hr>
<h2 id="why-stan" class="tsd-anchor-link">Why STAN?<a href="#why-stan" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><ul>
<li>Reproducible context: one archive captures exactly the files to read.</li>
<li>Structured outputs: test/lint/typecheck/build logs are deterministic and easy to diff.</li>
<li>Always‑on diffs: with --archive, STAN writes archive.diff.tar for changed files automatically.</li>
<li>Preflight guardrails: nudges you to update prompts when the baseline changes.</li>
<li>Patch workflow: paste a unified diff or read from a file; STAN applies it safely and opens modified files in your editor.</li>
</ul>
<hr>
<h2 id="configuration-stanconfigyml" class="tsd-anchor-link">Configuration (stan.config.yml)<a href="#configuration-stanconfigyml" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Minimal example:</p>
<pre><code><span class="hl-2">stanPath</span><span class="hl-1">: .</span><span class="hl-0">stan</span><br/><span class="hl-2">includes</span><span class="hl-1">: []</span><br/><span class="hl-2">excludes</span><span class="hl-1">: []</span><br/><span class="hl-2">scripts</span><span class="hl-1">:</span><br/><span class="hl-1">  </span><span class="hl-2">build</span><span class="hl-1">: </span><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-0">run</span><span class="hl-1"> </span><span class="hl-2">stan</span><span class="hl-1">:</span><span class="hl-0">build</span><br/><span class="hl-1">  </span><span class="hl-2">lint</span><span class="hl-1">: </span><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-0">run</span><span class="hl-1"> </span><span class="hl-0">lint</span><br/><span class="hl-1">  </span><span class="hl-2">test</span><span class="hl-1">: </span><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-0">run</span><span class="hl-1"> </span><span class="hl-0">test</span><br/><span class="hl-1">  </span><span class="hl-2">typecheck</span><span class="hl-1">: </span><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-0">run</span><span class="hl-1"> </span><span class="hl-0">typecheck</span>
</code><button>Copy</button></pre>

<p>Optional:</p>
<ul>
<li>maxUndos: number of retained snapshot history entries (default 10).</li>
<li>patchOpenCommand: editor open command (default: &quot;code -g {file}&quot;).</li>
</ul>
<hr>
<h2 id="commands-at-a-glance" class="tsd-anchor-link">Commands at a glance<a href="#commands-at-a-glance" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><ul>
<li>Run (build &amp; snapshot)
<ul>
<li>Default: stan run # runs all configured scripts and writes archives</li>
<li>stan run -p # print plan only, no side effects</li>
<li>stan run -S # do not run scripts (combine with -A/-p)</li>
<li>stan run -A # do not create archives</li>
<li>stan run -c -s test # include outputs inside archives; remove on-disk outputs</li>
<li>stan run -q -s lint test # sequential run in provided order</li>
<li>stan run -x test # run all except “test”</li>
</ul>
</li>
<li>Snap (share &amp; baseline)
<ul>
<li>stan snap</li>
<li>stan snap undo | redo | set <index> | info</li>
<li>stan snap -s (stash before snap; pop after)</li>
</ul>
</li>
<li>Patch (discuss &amp; patch)
<ul>
<li>stan patch # from clipboard (default)</li>
<li>stan patch --check # validate only</li>
<li>stan patch -f file.patch</li>
</ul>
</li>
</ul>
<p>Global flags:</p>
<ul>
<li>-d/--debug (verbose streaming of script stdout/stderr)</li>
<li>-b/--boring (disable color)</li>
</ul>
<hr>
<h2 id="documentation" class="tsd-anchor-link">Documentation<a href="#documentation" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><ul>
<li>
<p><a href="https://docs.karmanivero.us/stan">API reference</a></p>
</li>
<li>
<p>Guides:</p>
<ul>
<li><a href="https://docs.karmanivero.us/stan/documents/Getting_Started.html">Getting Started</a> — Install the CLI, initialize a repo, attach archives in chat, and use the bootloader with TypingMind (GPT‑5, High reasoning, 128k tokens).</li>
<li><a href="https://docs.karmanivero.us/stan/documents/The_STAN_Loop.html">The STAN Loop</a> — How Build &amp; Snapshot → Share &amp; Baseline → Discuss &amp; Patch work together.</li>
<li><a href="https://docs.karmanivero.us/stan/documents/CLI_Usage___Examples.html">CLI Usage &amp; Examples</a> — Common flags and invocation patterns, including <code>-p</code>, <code>-S</code>, <code>-A</code>, and <code>-c</code>.</li>
<li><a href="https://docs.karmanivero.us/stan/documents/Stan_Configuration.html">Stan Configuration</a> — All config keys, includes/excludes semantics, and phase‑scoped CLI defaults.</li>
<li><a href="https://docs.karmanivero.us/stan/documents/Patch_Workflow___FEEDBACK.html">Patch Workflow &amp; FEEDBACK</a> — Unified diff policy, FEEDBACK envelopes, and assistant expectations.</li>
<li><a href="https://docs.karmanivero.us/stan/documents/Archives___Snapshots.html">Archives &amp; Snapshots</a> — What goes into <code>archive.tar</code>/<code>archive.diff.tar</code>, combine mode, and snapshot history.
Additional references:</li>
</ul>
</li>
<li>
<p>The following documents are maintained by STAN and live under <code>&lt;stanPath&gt;/system/</code> in your repo:</p>
<ul>
<li><code>stan.project.md</code> contains your evolving project requirements.</li>
<li><code>stan-todo.md</code> contains your evolving development plan.</li>
</ul>
</li>
<li>
<p>Case studies:</p>
<ul>
<li><a href="https://docs.karmanivero.us/stan/documents/Case_Study_%E2%80%94_rrstack.html">rrstack</a> — how STAN enabled rapid development in a couple of days.</li>
</ul>
</li>
<li>
<p>Comparison: <a href="https://docs.karmanivero.us/stan/documents/Why_STAN_Over_Alternatives_.html">Why STAN Over Alternatives?</a></p>
</li>
<li>
<p>Tutorial: <a href="https://docs.karmanivero.us/stan/documents/Tutorial_%E2%80%94_Quickstart_(End%E2%80%91to%E2%80%91End).html">Quickstart (End‑to‑End)</a></p>
</li>
<li>
<p>FAQ: answers to common questions and pitfalls.</p>
</li>
<li>
<p>Contributing: <a href="https://docs.karmanivero.us/stan/documents/Contributing_%E2%80%94_Dev_Quickstart.html">Dev Quickstart</a></p>
</li>
</ul>
<hr>
<h2 id="troubleshooting" class="tsd-anchor-link">Troubleshooting<a href="#troubleshooting" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><ul>
<li>“system prompt missing”: ensure <stanPath>/system/stan.system.md is included in the attached archive; otherwise attach it directly as <a href="http://stan.system.md" target="_blank" class="external">stan.system.md</a>.</li>
<li>Patch failures: use --check to validate first; if a patch fails, STAN writes a compact FEEDBACK envelope and (when possible) copies it to your clipboard so you can get a corrected patch.</li>
<li>Large files: STAN may flag very long source files (~300+ LOC) and ask for a split plan before proceeding.</li>
</ul>
<hr>
<h2 id="contributing" class="tsd-anchor-link">Contributing<a href="#contributing" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><ul>
<li>
<p>See the <a href="https://docs.karmanivero.us/stan/documents/Contributing_%E2%80%94_Dev_Quickstart.html">Contributing — Dev Quickstart</a> for local setup and workflow tips.</p>
</li>
<li>
<p>Keep the loop simple. Each stage ends with one command.</p>
</li>
<li>
<p>Favor small, testable modules; treat &gt;300 LOC as design feedback.</p>
</li>
<li>
<p>Improve the project prompt (<stanPath>/system/stan.project.md) when repo‑specific policies evolve.</p>
</li>
</ul>
<hr>
<h2 id="license" class="tsd-anchor-link">License<a href="#license" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>BSD‑3‑Clause</p>
</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-chevronDown"></use></svg><h3>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-chevronDown"></use></svg><h3>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#stan--stan-tames-autoregressive-nonsense"><span>STAN — <wbr/>STAN <wbr/>Tames <wbr/>Autoregressive <wbr/>Nonsense</span></a><ul><li><a href="#quick-start"><span>Quick start</span></a></li><li><a href="#why-stan"><span>Why <wbr/>STAN?</span></a></li><li><a href="#configuration-stanconfigyml"><span>Configuration (stan.config.yml)</span></a></li><li><a href="#commands-at-a-glance"><span>Commands at a glance</span></a></li><li><a href="#documentation"><span>Documentation</span></a></li><li><a href="#troubleshooting"><span>Troubleshooting</span></a></li><li><a href="#contributing"><span>Contributing</span></a></li><li><a href="#license"><span>License</span></a></li></ul></div></details></div><div class="site-menu"><nav id="tsd-sidebar-links" class="tsd-navigation"><a href="https://github.com/karmaniverous/stan" class="tsd-nav-link">GitHub</a></nav><nav class="tsd-navigation"><a href="modules.html">@karmaniverous/stan</a><ul class="tsd-small-nested-navigation" id="tsd-nav-container"><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>
